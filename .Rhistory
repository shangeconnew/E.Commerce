blogdown:::new_post_addin()
blogdown:::preview_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::preview_site()
blogdown:::preview_site()
setwd("C:/Users/sshang/OneDrive - Kansas State University/STAT701")
setwd("C:/Users/sshang/OneDrive - Kansas State University/STAT701/oi_biostat_text_chapters")
getwd()
setwd("C:/Users/sshang/OneDrive - Kansas State University/STAT701/Examples")
knitr::opts_chunk$set(echo = TRUE, fig.width = 6,fig.align="center")
library(openintro)
treeDiag(c('Cancer Status', 'Mammogram'),
c(0.0035, 0.9965),
list(c(0.89, 0.11),
c(0.07, 0.93)),
textwd = 0.2,
solwd = 0.35,
cex.main = 1.4,
c('cancer', 'no cancer'),
c('positive','negative'),
digits = 5,
col.main = "#555555",
showWork = TRUE)
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
<<<<<<< HEAD
blogdown:::new_post_addin()
=======
blogdown:::serve_site()
blogdown:::serve_site()
>>>>>>> 74e2e4326e22c4272eac8a64d9d9e514cd95bc8d
blogdown:::serve_site()
blogdown:::serve_site()
setwd("C:/Users/sshang/OneDrive - Kansas State University/STAT350/Recitation/Week_4")
blogdown:::preview_site()
library(readxl)
myData=read_excel("C:/Users/sshang/OneDrive - Kansas State University/STAT350/Recitation/Week_3/Growth_Value.xlsx")
mean(Growth_Value$Growth)
myData=read_excel("C:/Users/sshang/OneDrive - Kansas State University/STAT350/Recitation/Week_3/Growth_Value.xlsx")
library(readxl)
Growth_Value=read_excel("C:/Users/sshang/OneDrive - Kansas State University/STAT350/Recitation/Week_3/Growth_Value.xlsx")
mean(Growth_Value$Growth)
mean(Growth_Value$Value)
blogdown:::preview_site()
blogdown:::new_post_addin()
blogdown:::preview_site()
setwd("~/E.Commerce/Notes")
getwd()
getwd()
setwd("~/E.Commerce/Notes")
getwd()
getwd()
blogdown:::new_post_addin()
blogdown:::preview_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::new_post_addin()
blogdown:::new_post_addin()
blogdown:::new_post_addin()
blogdown:::preview_site()
knitr::opts_chunk$set(echo = TRUE, fig.width = 6,fig.align="center")
library(survey)
library(sampling)
install.packages("sampling")
library(SDAResources)
data(agsrs)
agsrs[1:10,]
agsrs10<-agsrs[1:10,]
fix(agsrs10)
n<-nrow(agsrs)
n
fix(agsrs10)
agsrs10<-agsrs[1:10,]
agsrs[1:10,]
fix(agsrs10)
View(agsrs)
##### Install the R packages needed for the chapter
library(survey)
library(sampling)
install.packages("sampling")
##### Install the R packages needed for the chapter
library(survey)
library(sampling)
##### Install the R packages needed for the chapter
library(survey)
library(SDAResources)
########## Allocation Methods ##########
data(agsrs)
View(agsrs)
n<-nrow(agsrs)
n
cor(agsrs$acres87,agsrs$acres92) #correlation between acres 87 and acres 92 is as high as 0.995806
##calculate Bhat by direct formula
xbar<-mean(agsrs$acres87)
xbar
ybar<-mean(agsrs$acres92)
ybar
Bhat=ybar/xbar
##estimate ratio population total
data(agpop)
N=nrow(agpop)
tx<-sum(agpop$acres87)
tx
hatty<-tx*Bhat
hatty
##estimate srs population total
hattysrs<-N*ybar
hattysrs
data(agpop)
##### Install the R packages needed for the chapter
library(survey)
library(SDAResources)
########## Allocation Methods ##########
data(agsrs)
View(agsrs)
n<-nrow(agsrs)
n
cor(agsrs$acres87,agsrs$acres92) #correlation between acres 87 and acres 92 is as high as 0.995806
##calculate Bhat by direct formula
xbar<-mean(agsrs$acres87)
xbar
ybar<-mean(agsrs$acres92)
ybar
Bhat=ybar/xbar
##estimate ratio population total
data(agpop)
N=nrow(agpop)
tx<-sum(agpop$acres87,na.rm = FALSE)
tx
hatty<-tx*Bhat
hatty
##estimate srs population total
hattysrs<-N*ybar
hattysrs
N=nrow(agpop)
N
tx<-sum(agpop$acres87,na.rm = FALSE)
tx
tx<-sum(agpop$acres87,na.rm = TRUE)
tx
##### Install the R packages needed for the chapter
library(survey)
library(SDAResources)
########## Allocation Methods ##########
data(agsrs)
View(agsrs)
n<-nrow(agsrs)
n
cor(agsrs$acres87,agsrs$acres92) #correlation between acres 87 and acres 92 is as high as 0.995806
##calculate Bhat by direct formula
xbar<-mean(agsrs$acres87)
xbar
ybar<-mean(agsrs$acres92)
ybar
Bhat=ybar/xbar
##estimate ratio population total
data(agpop)
N=nrow(agpop)
N
tx<-sum(agpop$acres87,na.rm = na.rm = TRUE)
##### Install the R packages needed for the chapter
library(survey)
library(SDAResources)
########## Allocation Methods ##########
data(agsrs)
View(agsrs)
n<-nrow(agsrs)
n
cor(agsrs$acres87,agsrs$acres92) #correlation between acres 87 and acres 92 is as high as 0.995806
##calculate Bhat by direct formula
xbar<-mean(agsrs$acres87)
xbar
ybar<-mean(agsrs$acres92)
ybar
Bhat=ybar/xbar
##estimate ratio population total
data(agpop)
N=nrow(agpop)
N
tx<-sum(agpop$acres87,na.rm = TRUE)
tx
hatty<-tx*Bhat
hatty
##estimate srs population total
hattysrs<-N*ybar
hattysrs
agsrsdesign <- svydesign(ids = ~1, fpc=rep(3078,300),data = agsrs)
agsrsdesign
##Ratio estimation using acres87 to be auxiliary variable
sratio<-svyratio(numerator = ~acres92, denominator = ~acres87,design = agsrsdesign)
sratio
Bhat
stotal<-svytotal(~acres92,agsrsdesign)
stotal
confint(stotal, level=.95,df=n-1)
hatty_CI
##### Install the R packages needed for the chapter
library(survey)
library(SDAResources)
########## Allocation Methods ##########
data(agsrs)
View(agsrs)
n<-nrow(agsrs)
n
cor(agsrs$acres87,agsrs$acres92) #correlation between acres 87 and acres 92 is as high as 0.995806
##calculate Bhat by direct formula
xbar<-mean(agsrs$acres87)
xbar
ybar<-mean(agsrs$acres92)
ybar
Bhat=ybar/xbar
##estimate ratio population total
data(agpop)
N=nrow(agpop)
N
tx<-sum(agpop$acres87,na.rm = TRUE)
tx
hatty<-tx*Bhat
hatty
##estimate srs population total
hattysrs<-N*ybar
hattysrs
## calculate Bhat directly from buildin function.
agsrsdesign <- svydesign(ids = ~1, fpc=rep(3078,300),data = agsrs)
agsrsdesign
##Ratio estimation using acres87 to be auxiliary variable
sratio<-svyratio(numerator = ~acres92, denominator = ~acres87,design = agsrsdesign)
sratio
#extract ratio estimator and se of the ratio estimator
bhat<-as.data.frame(sratio[1])[1]
bhat
varbhat<-as.data.frame(sratio[2])[1]
varbhat
sebhat<-sqrt(varbhat)
sebhat
hatty<-tx*bhat
hatty
sehatty<-tx*sebhat
sehatty
hatty_CI <- c(hatty - qt(.975, n-1)*sehatty, hatty + qt(.975, n-1)*sehatty)
names(hatty_CI) <- c("lower", "upper")
hatty_CI
##compared to SRS estimator
stotal<-svytotal(~acres92,agsrsdesign)
stotal
confint(stotal, level=.95,df=n-1)
